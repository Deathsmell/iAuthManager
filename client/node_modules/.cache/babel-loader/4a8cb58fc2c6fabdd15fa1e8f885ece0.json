{"ast":null,"code":"var _jsxFileName = \"/home/deathsmell/WebstormProjects/iAuthManager/client/src/components/UserTable/UserToolbar.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useSelect } from \"../../hooks/select.hook\";\nimport { SelectContext } from \"../../context/SelectContext\";\nimport useManage from \"../../hooks/manage.hook\";\nimport \"./UserToolbar.css\";\n\nconst isBlock = user => user.status && user.status === \"blocked\";\n\nconst UserToolbar = () => {\n  const manager = useManage();\n  const [blocked, setBlocked] = useState(0);\n  const [selectedUser] = useContext(SelectContext);\n  const {\n    cleanSelects\n  } = useSelect();\n  const {\n    blockUsers,\n    deleteUsers,\n    unblockUsers\n  } = manager;\n  useEffect(() => {\n    if (selectedUser && selectedUser.length) setBlocked(selectedUser.filter(isBlock).length);\n    return () => {\n      setBlocked(0);\n    };\n  }, [selectedUser]);\n\n  const selectDo = handler => {\n    return async e => {\n      e.preventDefault();\n      await cleanSelects();\n      setBlocked(0);\n      await handler(selectedUser);\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-action center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"btn-large green \".concat(blocked ? \" \" : \"disabled\"),\n    href: \"/\",\n    onClick: selectDo(unblockUsers),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, \"group_add\"), \"Unblock \", blocked > 1 ? ` (${blocked})` : \"\"), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"btn-large yellow darken-2 \".concat(selectedUser.length ? \" \" : \"disabled\"),\n    href: \"/\",\n    onClick: selectDo(blockUsers),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, \"block\"), \"Block \", selectedUser.length !== blocked && selectedUser.length > 1 ? ` (${selectedUser.length - blocked})` : \"\"), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"btn-large red lighten-1 \".concat(selectedUser.length ? \" \" : \"disabled\"),\n    href: \"/\",\n    onClick: selectDo(deleteUsers),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, \"delete_forever\"), \"Delete \", selectedUser.length && selectedUser.length > 1 ? ` (${selectedUser.length})` : \"\"), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"btn-large grey lighten-1 \".concat(selectedUser.length ? \" \" : \"disabled\"),\n    href: \"/\",\n    onClick: selectDo(cleanSelects),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"clear_all\"), \"Clean \", selectedUser.length ? ` (${selectedUser.length})` : \"\"))));\n};\n\nexport default UserToolbar;","map":{"version":3,"sources":["/home/deathsmell/WebstormProjects/iAuthManager/client/src/components/UserTable/UserToolbar.js"],"names":["React","useContext","useEffect","useState","useSelect","SelectContext","useManage","isBlock","user","status","UserToolbar","manager","blocked","setBlocked","selectedUser","cleanSelects","blockUsers","deleteUsers","unblockUsers","length","filter","selectDo","handler","e","preventDefault","concat"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from \"react\"\nimport {useSelect} from \"../../hooks/select.hook\";\nimport {SelectContext} from \"../../context/SelectContext\";\nimport useManage from \"../../hooks/manage.hook\";\nimport \"./UserToolbar.css\"\n\nconst isBlock = user => user.status && (user.status === \"blocked\")\n\nconst UserToolbar = () => {\n\n    const manager = useManage();\n    const [blocked, setBlocked] = useState(0)\n    const [selectedUser] = useContext(SelectContext)\n    const {cleanSelects} = useSelect()\n    const {blockUsers, deleteUsers, unblockUsers} = manager\n\n    useEffect(() => {\n        if (selectedUser && selectedUser.length)\n            setBlocked(selectedUser.filter(isBlock).length)\n        return () => {\n            setBlocked(0)\n        }\n    }, [selectedUser])\n\n\n    const selectDo = (handler) => {\n        return (async (e) => {\n            e.preventDefault()\n            await cleanSelects()\n            setBlocked(0)\n            await handler(selectedUser)\n        })\n    }\n\n    return (\n        <div className=\"btn-group\">\n            <div>\n                <div className=\"card-action center\">\n                    <a className={\"btn-large green \".concat(blocked ? \" \" : \"disabled\")}\n                       href=\"/\"\n                       onClick={selectDo(unblockUsers)}\n                    >\n                        <i className=\"material-icons left\">group_add</i>\n                        Unblock {blocked > 1\n                        ? ` (${blocked})`\n                        : \"\"}\n                    </a>\n                    <a className={\"btn-large yellow darken-2 \".concat(selectedUser.length ? \" \" : \"disabled\")}\n                       href=\"/\"\n                       onClick={selectDo(blockUsers)}\n                    >\n                        <i className=\"material-icons left\">block</i>\n                        Block {selectedUser.length !== blocked && selectedUser.length > 1\n                        ? ` (${selectedUser.length - blocked})`\n                        : \"\"}\n                    </a>\n                    <a className={\"btn-large red lighten-1 \".concat(selectedUser.length ? \" \" : \"disabled\")}\n                       href=\"/\"\n                       onClick={selectDo(deleteUsers)}\n                    >\n                        <i className=\"material-icons left\">delete_forever</i>\n                        Delete {selectedUser.length && selectedUser.length > 1\n                        ? ` (${selectedUser.length})`\n                        : \"\"}\n                    </a>\n                    <a className={\"btn-large grey lighten-1 \".concat(selectedUser.length ? \" \" : \"disabled\")}\n                       href=\"/\"\n                       onClick={selectDo(cleanSelects)}\n                    >\n                        <i className=\"material-icons left\">clear_all</i>\n                        Clean {selectedUser.length\n                        ? ` (${selectedUser.length})`\n                        : \"\"}\n                    </a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default UserToolbar"]},"metadata":{},"sourceType":"module"}