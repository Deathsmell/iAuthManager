{"ast":null,"code":"var _jsxFileName = \"/home/deathsmell/WebstormProjects/iAuthManager/client/src/pages/AuthPage.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useHttp } from \"../hooks/http.hook\";\nimport { useMessage } from \"../hooks/message.hook\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport './AuthPage.css';\nexport const AuthPage = () => {\n  const auth = useContext(AuthContext);\n  const {\n    loading,\n    error,\n    request,\n    clearError\n  } = useHttp();\n  const [form, setForm] = useState({\n    email: '',\n    password: ''\n  });\n  const message = useMessage();\n  useEffect(() => {\n    message(error);\n    clearError();\n  }, [error, message, clearError]);\n\n  const changeHandler = event => {\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const registerHandler = async () => {\n    const data = await request('/api/signup', 'POST', { ...form\n    });\n    message(data.message);\n  };\n\n  const loginHandler = async () => {\n    const data = await request('/api/login', 'POST', { ...form\n    });\n\n    if (data) {\n      auth.login(data.token, data.id);\n    } else {// message(\"Not response\")\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col xl12 l12 m12 s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col xl6 offset-xl3 l8 offset-l2 m8 offset-m2 s10 offset-s1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card cyan darken-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth-panel card-content white-text hoverable \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"card-title center-align\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"auth-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 33\n    }\n  }, \"Authentication\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"email\",\n    type: \"email\",\n    className: \"validate\",\n    name: \"email\",\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 45\n    }\n  }, \"Email\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"password\",\n    type: \"password\",\n    className: \"validate\",\n    name: \"password\",\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 45\n    }\n  }, \"Password\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-action row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-large  cyan darken-2 col s4\",\n    onClick: loginHandler,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 37\n    }\n  }, \"Sign in\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-large  cyan darken-2 col s4\",\n    onClick: registerHandler,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 37\n    }\n  }, \"Sign up\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 33\n    }\n  })))))));\n};","map":{"version":3,"sources":["/home/deathsmell/WebstormProjects/iAuthManager/client/src/pages/AuthPage.js"],"names":["React","useContext","useEffect","useState","useHttp","useMessage","AuthContext","AuthPage","auth","loading","error","request","clearError","form","setForm","email","password","message","changeHandler","event","target","name","value","registerHandler","data","loginHandler","login","token","id","color"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from \"react\";\nimport {useHttp} from \"../hooks/http.hook\";\nimport {useMessage} from \"../hooks/message.hook\";\nimport {AuthContext} from \"../context/AuthContext\";\nimport './AuthPage.css'\n\nexport const AuthPage = () => {\n    const auth = useContext(AuthContext);\n    const {loading, error, request, clearError} = useHttp();\n    const [form, setForm] = useState({\n        email: '',\n        password: '',\n    })\n\n    const message = useMessage()\n    useEffect(() => {\n        message(error)\n        clearError()\n    }, [error, message, clearError])\n\n    const changeHandler = event => {\n        setForm({...form, [event.target.name]: event.target.value})\n    }\n\n    const registerHandler = async () => {\n        const data = await request('/api/signup', 'POST', {...form})\n        message(data.message)\n    }\n\n\n    const loginHandler = async () => {\n        const data = await request('/api/login', 'POST', {...form})\n        if (data) {\n            auth.login(data.token, data.id)\n        } else {\n            // message(\"Not response\")\n        }\n    }\n\n    return (\n        <div className=\"col xl12 l12 m12 s12\">\n            <div className=\"row\">\n                <div className=\"col xl6 offset-xl3 l8 offset-l2 m8 offset-m2 s10 offset-s1\">\n                    <div className=\"row\">\n                        <div className=\"card cyan darken-4\">\n                            <div className=\"auth-panel card-content white-text hoverable \">\n                            <span className=\"card-title center-align\">\n                                <h5 className=\"auth-logo\">Authentication</h5></span>\n                                    <div className=\"row\">\n                                        <div className=\"input-field col s12\">\n                                            <input id=\"email\"\n                                                   type=\"email\"\n                                                   className=\"validate\"\n                                                   name=\"email\"\n                                                   onChange={changeHandler}\n                                            />\n                                            <label htmlFor=\"email\">Email</label>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"row\">\n                                        <div className=\"input-field col s12\">\n                                            <input id=\"password\"\n                                                   type=\"password\"\n                                                   className=\"validate\"\n                                                   name=\"password\"\n                                                   onChange={changeHandler}\n                                            />\n                                            <label htmlFor=\"password\">Password</label>\n                                        </div>\n                                    </div>\n\n                            </div>\n                            <div className=\"card-action row\">\n                                <div className=\"col s1\"/>\n                                <button className=\"btn-large  cyan darken-2 col s4\"\n                                        onClick={loginHandler}\n                                        disabled={loading}\n                                >\n                                    <h6 style={{color: 'black'}}>Sign in</h6>\n                                </button>\n                                <div className=\"col s2\"/>\n                                <button\n                                    className=\"btn-large  cyan darken-2 col s4\"\n                                    onClick={registerHandler}\n                                    disabled={loading}\n                                >\n                                    <h6 style={{color: 'black'}}>Sign up</h6>\n                                </button>\n                                <div className=\"col s1\"/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    )\n}"]},"metadata":{},"sourceType":"module"}